<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Events</title>

    <div th:replace="~{ fragments/fragments :: favicon}"></div>
    <div th:replace="~{ fragments/fragments :: tailwind}"></div>
  </head>
  <body>
    <div th:replace="~{ fragments/fragments :: navbar}"></div>
    <div class="flex items-center">
      <div class="w-1/3"></div>
      <h1 class="text-5xl text-center font-bold w-1/3">Eventi</h1>
      <a
        class="bg-green-700 text-white hover:bg-green-800 rounded-lg px-3 py-2"
        href="/events"
        >Aggiungi evento</a
      >
    </div>

    <div class="w-full my-10">
      <table class="border w-8/10 mx-auto text-center">
        <thead>
          <tr class="border">
            <th class="px-3 py-1">id</th>
            <th class="px-3 py-1">Nome</th>
            <th class="px-3 py-1">Categoria</th>
            <th class="px-3 py-1">Sottocategoria</th>
            <th class="px-3 py-1">Inizio</th>
            <th class="px-3 py-1">Fine</th>
            <th class="px-3 py-1">Fine iscrizioni</th>
            <th class="px-3 py-1"></th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="event : ${events}" th:object="${event}">
            <td class="px-3 py-1" th:text="*{id}"></td>
            <td class="px-3 py-1" th:text="*{name}"></td>
            <td class="px-3 py-1" th:text="*{category}"></td>
            <td class="px-3 py-1" th:text="*{category.subcategory}"></td>
            <td class="px-3 py-1" th:text="*{startDate}"></td>
            <td class="px-3 py-1" th:text="*{endDate}"></td>
            <td class="px-3 py-1" th:text="*{registrationClosingDate}"></td>
            <td class="flex justify-around items-center">
              <div class="py-3">
                <a
                  class="bg-blue-500 text-white px-3 py-2 hover:bg-blue-600 rounded-2xl"
                  th:href="@{/events/{id}(id = *{id})}"
                  >Dettagli</a
                >
                <a
                  class="bg-green-500 text-white px-3 py-2 hover:bg-green-600 rounded-2xl"
                  th:href="@{/events/{id}(id = *{id})}"
                  >Modifica</a
                >
                <a
                  class="bg-red-500 text-white px-3 py-2 hover:bg-red-600 rounded-2xl"
                  th:href="@{/events/{id}(id = *{id})}"
                  >Elimina</a
                >
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </body>
</html>
